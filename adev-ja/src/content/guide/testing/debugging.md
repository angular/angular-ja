# デバッグテスト

テストが期待通りに動作しない場合、デフォルトのNode.js環境と実際のブラウザの両方でデバッグできます。

## Node.jsでのデバッグ {#debugging-in-nodejs}

デフォルトのNode.js環境でのデバッグは、ブラウザ固有のAPIやレンダリングに関連しない問題を診断する最も迅速な方法です。

1.  `ng test`コマンドを`--debug`フラグ付きで実行します:
    ```shell
    ng test --debug
    ```
2.  テストランナーがデバッグモードで起動し、デバッガーがアタッチされるのを待ちます。
3.  任意のデバッガーをアタッチできます。たとえば、VS Codeの組み込みNode.jsデバッガーや、Node.js用のChrome DevToolsを使用できます。

## ブラウザでのデバッグ {#debugging-in-a-browser}

ブラウザでのデバッグは、DOMやその他のブラウザ固有のAPIに依存するテストに推奨されます。このアプローチでは、ブラウザ独自の開発者ツールを使用できます。

1.  ブラウザプロバイダーがインストールされていることを確認します。セットアップ手順については、[ブラウザでのテスト実行](guide/testing/overview#running-tests-in-a-browser)を参照してください。
2.  `ng test`コマンドを`--browsers`と`--debug`の両方のフラグ付きで実行します:
    ```shell
    ng test --browsers=chromium --debug
    ```
3.  このコマンドは、ヘッド付きブラウザでテストを実行し、テスト終了後もブラウザを開いたままにして、出力を検査できるようにします。
4.  ブラウザの**開発者ツール**を開きます。Windowsでは`Ctrl-Shift-I`、macOSでは`Command-Option-I`を押します。
5.  **Sources**タブに移動します。
6.  `Control/Command-P`を使用して、テストファイルを検索して開きます。
7.  テストにブレークポイントを設定します。
8.  ブラウザでテストランナーUIをリロードします。実行がブレークポイントで停止します。
