# Missing value accessor

すべてのカスタムフォームコントロールには、値アクセサを登録する必要があります。

値アクセサを提供する方法の例を以下に示します。

```typescript
providers: [
  {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef(() => MyInputField),
    multi: true,
  }
]
```

## エラーのデバッグ

上記のように、コントロールには値アクセサが必要ですが、見つかりませんでした。しかし、実際にはこのエラーが発生する原因はたくさんあります。このエラーにつながる可能性のある既知の問題を次に示します。

1. カスタムフォームコントロールを**定義**した場合、値アクセサを提供することを忘れませんでしたか？
1. 値のない要素、または**無効な要素**に`ngModel`を配置しましたか（例：`<div [(ngModel)]="foo">`）？
1. `NgModule`内で宣言されたカスタムフォームコントロールを使用していますか？ その場合は、**インポート**していることを確認してください。
1. サードパーティのカスタムフォームコントロールで`ngModel`を使用していますか？ そのコントロールが値アクセサを提供しているかどうかを確認してください。提供していない場合は、コントロールの要素に**`ngDefaultControl`**を使用してください。
1. カスタムフォームコントロールを**テスト**していますか？ テストベッドがコントロールについて認識していることを確認してください。これは`Testbed.configureTestingModule`を使用して実行できます。
1. **Nxおよびモジュールフェデレーション**をwebpackで使用していますか？ `webpack.config.js`には、フォームパッケージが共有されるようにするための[追加の構成](https://github.com/angular/angular/issues/43821#issuecomment-1054845431)が必要になる場合があります。
